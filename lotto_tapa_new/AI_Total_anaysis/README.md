# 디렉토리구조
```
lotto_tapa_new/
│
├── main.py              # 프로그램 메인 진입점
├── gui.py               # 그래픽 사용자 인터페이스
├── lotto_analyzer.py    # 규칙 기반 로또 분석 엔진
├── lotto_config.py      # 설정 관리 클래스
├── lotto_ml_model.py    # 머신러닝 모델 구현
├── db_manager.py        # 데이터베이스 관리
├── feature_engineering.py # 특성 엔지니어링 로직
├── ml_integration.py    # 머신러닝 UI 통합 모듈
│
├── lotto.db             # 로또 데이터베이스 파일
│
├── models/              # 학습된 머신러닝 모델 저장 디렉토리
│   ├── number_1_model.pkl  # 1번 번호 예측 모델
│   ├── number_2_model.pkl  # 2번 번호 예측 모델
│   ├── ...
│   └── combination_model.pkl # 조합 평가 모델
│
├── logs/                # 로그 파일 디렉토리
│   └── lotto_tapa.log   # 애플리케이션 로그
│
└── README.md            # 프로그램 설명서
```
# 로또 타파 분석기 - AI 확장 버전

로또 당첨 확률을 높이기 위한 통계 및 머신러닝 기반 분석 프로그램입니다. 기존 통계 규칙과 AI 기술을 결합하여 더 정교한 로또 번호 예측을 제공합니다.

![로또 타파 분석기](https://github.com/user/lotto_tapa_new/raw/main/screenshots/main.png)

## 프로그램 개요

이 프로그램은 다음 두 가지 방식으로 로또 번호를 생성합니다:

1. **규칙 기반 분석**: 역대 로또 당첨 번호 통계를 기반으로 12가지 핵심 분석 규칙을 적용
2. **AI 기반 분석**: 머신러닝 알고리즘을 활용하여 당첨 패턴을 학습하고 예측

두 방식을 함께 활용하면 더 높은 확률의 번호 조합을 얻을 수 있습니다.

## 설치 방법

### 요구 사항
- Python 3.7 이상
- 필요 라이브러리: numpy, pandas, scikit-learn, matplotlib, sqlite3

### 설치 과정

1. 저장소 클론 또는 다운로드
   ```bash
   git clone https://github.com/user/lotto_tapa_new.git
   cd lotto_tapa_new
   ```

2. 필요한 라이브러리 설치
   ```bash
   pip install -r requirements.txt
   ```

3. 프로그램 실행
   ```bash
   python main.py
   ```

## 프로그램 사용법

### 첫 실행 시
1. 프로그램 첫 실행 시 자동으로 필요한 디렉토리와 데이터베이스가 생성됩니다.
2. AI 기능을 사용하려면 '머신러닝' 탭으로 이동하여 '모델 학습' 버튼을 클릭하세요.
3. 모델 학습은 데이터 양에 따라 몇 분이 소요될 수 있습니다.

### 주요 기능

#### 메인 탭
- 게임 수 설정 (기본값: 5게임)
- 규칙 기반 번호 생성 버튼
- AI 번호 생성 바로가기
- 생성된 번호 표시 영역

#### 규칙 선택 탭
- 12가지 규칙 개별 선택/해제
- 전체 선택/해제 기능

#### 상세 설정 탭
- 각 규칙별 세부 설정 조정
- 설정값 저장/불러오기
- 기본값 복원 기능

#### 머신러닝 탭
- AI 모델 학습/재학습
- 머신러닝 기반 번호 생성
- 예측 결과 표시
- 모델 성능 정보

#### 데이터 분석 탭
- 번호별 출현 빈도 분석
- 홀짝/고저 비율 분석
- 연속 번호 패턴 분석
- 합계 분포 분석

### 머신러닝 기능 활용 팁
1. 정기적으로 모델을 재학습하여 최신 당첨 패턴을 반영하세요.
2. 규칙 기반 생성과 AI 생성을 함께 활용하는 것이 가장 효과적입니다.
3. AI가 추천한 번호 중 로또 타파 규칙에 부합하는 번호를 선택하세요.
4. 데이터 분석 탭에서 당첨 번호의 통계적 패턴을 참고하세요.

## 분석 규칙 상세 설명

### 1. 총합 구간 분석
- **범위**: 100 ~ 175
- **설명**: 선택된 6개 번호의 총합이 이 구간에 들어가야 함
- **근거**: 역대 당첨번호 중 90% 이상이 이 구간에 포함
- **예시**: [8, 15, 21, 25, 35, 40] = 144 (유효)

### 2. AC값 분석
- **기준**: 7 이상
- **설명**: 6개 번호 간의 차이값들의 고유한 개수에서 5를 뺀 값
- **계산 방법**: 
  1. 모든 번호 쌍의 차이를 계산
  2. 중복을 제거한 차이값의 개수에서 5를 뺌
- **근거**: 당첨번호의 80% 이상이 AC값 7 이상

### 3. 홀짝 비율 분석
- **제외 조건**: 6:0 또는 0:6 비율 제외
- **설명**: 홀수와 짝수의 분포 비율
- **근거**: 극단적 비율(모두 홀수 또는 모두 짝수)의 당첨 확률 2% 미만
- **권장**: 3:3, 4:2, 2:4 비율 추천

### 4. 고저 비율 분석
- **기준**: 23을 기준으로 고저 구분
- **제외 조건**: 6:0 또는 0:6 비율 제외
- **설명**: 저번호(1~22)와 고번호(23~45)의 비율
- **근거**: 한쪽으로 치우친 번호의 당첨 확률 3% 미만

### 5. 소수 분석
- **대상 번호**: 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43
- **권장 개수**: 0~3개
- **근거**: 4개 이상 포함 시 당첨 확률 1% 미만

### 6. 합성수 분석
- **대상 번호**: 1, 4, 8, 10, 14, 16, 20, 22, 25, 26, 28, 32, 34, 35, 38, 40, 44
- **권장 개수**: 0~3개
- **근거**: 4개 이상 포함 시 당첨 확률 10% 미만

### 7. 끝수 분석
- **범위**: 15~35
- **설명**: 각 번호의 일의 자리 숫자 합
- **계산 방법**: 한 자리 수는 그대로 사용, 두 자리 수는 끝자리만 사용
- **근거**: 당첨번호의 90% 이상이 이 구간에 포함

### 8. 배수 분석
- **3의 배수**: 0~3개 권장
- **5의 배수**: 0~2개 권장
- **근거**: 해당 범위의 출현 확률 90% 이상

### 9. 제곱수 분석
- **대상 번호**: 1, 4, 9, 16, 25, 36
- **권장 개수**: 0~1개
- **근거**: 2개 이상 포함된 당첨 확률 3% 미만

### 10. 연속수 분석
- **권장 패턴**: 
  - 연속번호 없음
  - 2연속 1쌍
  - 2연속 2쌍
- **예시**: 
  - 1,2 (2연속 1쌍)
  - 1,2,8,9 (2연속 2쌍)
- **근거**: 위 패턴의 출현 확률 90%

### 11. 쌍수 분석
- **대상 번호**: 11, 22, 33, 44
- **권장 개수**: 0~2개
- **근거**: 3개 이상 포함된 경우 2회 미만

### 12. 모서리 패턴 분석
- **대상 영역**:
  - 좌측 상단: 1, 2, 8, 9
  - 우측 상단: 6, 7, 13, 14
  - 좌측 하단: 29, 30, 36, 37, 43, 44
  - 우측 하단: 34, 35, 41, 42
- **권장 개수**: 1~4개
- **추가 규칙**:
  - 한 모서리당 최대 2개
  - 대각선 방향 차이 2 이하
- **근거**: 출현 빈도 90% 이상

## 머신러닝 모델 설명

### 학습 데이터
- 과거 로또 당첨 번호 데이터
- 각 번호의 출현 패턴, 위치별 분포, 회차별 변화

### 모델 구성
1. **개별 번호 예측 모델**
   - 각 번호(1~45)의 출현 확률을 예측하는 45개 모델
   - 그래디언트 부스팅 알고리즘 사용
   - 과거 패턴을 기반으로 각 번호의 당첨 가능성 예측

2. **조합 평가 모델**
   - 번호 조합의 품질을 종합적으로 평가
   - 랜덤 포레스트 알고리즘 사용
   - 번호 간 관계와 패턴을 고려한 종합 점수 제공

### 특성 엔지니어링
- 통계적 특성(평균, 표준편차, 합계 등)
- 패턴 기반 특성(연속 번호, 홀짝 비율, 고저 비율 등)
- 번호 속성 특성(소수, 합성수, 제곱수, 배수 등)
- 시계열 특성(이전 회차와의 관계)

### 예측 과정
1. 각 번호의 출현 확률 예측
2. 확률 기반 번호 샘플링
3. 생성된 조합의 품질 평가
4. 로또 타파 규칙 기반 검증
5. 최종 추천 조합 제시

## 주의사항

1. 로또는 기본적으로 확률 게임이므로 당첨을 보장할 수 없습니다.
2. 이 프로그램은 통계적 패턴을 기반으로 하지만, 실제 추첨은 완전한 무작위로 이루어집니다.
3. 규칙이 너무 엄격하면 번호 생성이 어려울 수 있습니다.
4. 모든 규칙을 적용하면 생성 시간이 길어질 수 있습니다.
5. 책임감 있는 복권 구매를 실천하세요.

## 통계 기반 조합 추천

- 홀짝 비율: 3:3 또는 4:2
- 고저 비율: 3:3 또는 4:2
- 소수: 2~3개
- 연속수: 2연속 1쌍
- 모서리 숫자: 2개
- AC값: 7~8

이러한 조합이 역대 당첨번호에서 가장 높은 빈도로 나타났습니다.

## 설정 저장 및 관리

- 설정은 자동으로 저장됩니다.
- 프로그램 재시작 시 이전 설정이 복원됩니다.
- '현재 설정 저장' 버튼으로 수동 저장이 가능합니다.
- '기본값으로 복원' 버튼으로 초기 설정으로 되돌릴 수 있습니다.

## 개발자 정보

- 이 프로그램은 통계적 분석과 머신러닝을 결합한 로또 번호 생성 도구입니다.
- 버그 신고나 기능 제안은 GitHub 이슈를 통해 보내주세요.
- 라이센스: MIT License

## 업데이트 내역

### 버전 2.0 (현재)
- 머신러닝 기능 추가
- 데이터베이스 관리 시스템 구현
- 데이터 분석 기능 확장
- UI 개선 및 최적화

### 버전 1.0
- 12개 규칙 기반 분석 시스템
- 기본 GUI 구현
- 설정 관리 기능

---

**면책 조항**: 이 프로그램은 참고용으로만 사용하시기 바랍니다. 
개발자는 로또 구매 결과에 대한 어떠한 책임도 지지 않습니다.