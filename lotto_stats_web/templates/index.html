{% extends "base.html" %}

{% block title %}로또 통계 분석 | PROBA{% endblock %}

{% block description %}과학적 통계 분석을 통한 로또 번호 패턴 분석 서비스{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/charts.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <!-- 헤더 섹션 -->
    <div class="row mb-4">
        <div class="col-12 text-center">
            <h1 class="display-5 mb-3">로또 번호 통계 분석</h1>
            <p class="lead">당첨 번호의 패턴과 통계를 과학적으로 분석하여 제공합니다.</p>
            <div class="d-flex justify-content-center">
                <div class="badge bg-primary me-2">최근 갱신: {{ last_update_time }}</div>
                <div class="badge bg-success">최신 회차: {{ latest_draw }}</div>
            </div>
        </div>
    </div>

    <!-- 주요 통계 요약 -->
    <div class="row mb-4">
        <div class="col-md-3 mb-3">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-database fa-3x text-primary mb-3"></i>
                    <h5 class="card-title">총 회차</h5>
                    <p class="stat-value">{{ total_draws }}</p>
                    <p class="card-text small text-muted">총 {{ total_draws }} 회차 데이터 분석</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-3 mb-3">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-chart-bar fa-3x text-success mb-3"></i>
                    <h5 class="card-title">통계 항목</h5>
                    <p class="stat-value">15+</p>
                    <p class="card-text small text-muted">다양한 통계 지표 분석</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-3 mb-3">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-chart-line fa-3x text-info mb-3"></i>
                    <h5 class="card-title">분석 기간</h5>
                    <p class="stat-value">전체</p>
                    <p class="card-text small text-muted">모든 회차 데이터 활용</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-3 mb-3">
            <div class="card h-100">
                <div class="card-body text-center">
                    <i class="fas fa-sync-alt fa-3x text-warning mb-3"></i>
                    <h5 class="card-title">갱신 주기</h5>
                    <p class="stat-value">실시간</p>
                    <p class="card-text small text-muted">최신 데이터 자동 업데이트</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 통계 탭 컨테이너 -->
    {% include 'tabs/stats-tabs.html' %}
</div>
{% endblock %}

{% block scripts %}
<!-- 차트 라이브러리 -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>

<!-- 통계 차트 스크립트 -->
<script src="{{ url_for('static', filename='js/charts/frequency-chart.js') }}"></script>
<script src="{{ url_for('static', filename='js/charts/odd-even-chart.js') }}"></script>
<script src="{{ url_for('static', filename='js/charts/high-low-chart.js') }}"></script>
<script src="{{ url_for('static', filename='js/charts/ac-chart.js') }}"></script>
<script src="{{ url_for('static', filename='js/charts/sum-chart.js') }}"></script>
<script src="{{ url_for('static', filename='js/charts/pattern-charts.js') }}"></script>

<!-- 탭 관리 스크립트 -->
<script src="{{ url_for('static', filename='js/ui/tab-manager.js') }}"></script>
{% endblock %}