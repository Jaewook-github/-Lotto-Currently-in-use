# config.py

class LottoConfig:
    # 상수 정의
    CORNER_NUMBERS = {
        '좌측 상단': [1, 2, 8, 9],
        '우측 상단': [6, 7, 13, 14],
        '좌측 하단': [29, 30, 36, 37, 43, 44],
        '우측 하단': [34, 35, 41, 42]
    }

    BALL_COLORS = {
        '노랑(🟡)': range(1, 11),  # 1-10
        '파랑(🔵)': range(11, 21),  # 11-20
        '빨강(🔴)': range(21, 31),  # 21-30
        '검정(⚫)': range(31, 41),  # 31-40
        '초록(🟢)': range(41, 46)  # 41-45
    }

    COMPOSITE_NUMBERS = {1, 4, 8, 10, 14, 16, 20, 22, 25, 26, 28, 32, 34, 35, 38, 40, 44}
    PERFECT_SQUARES = {1, 4, 9, 16, 25, 36}
    PRIME_NUMBERS = {2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43}

    # 동형수 그룹 정의
    MIRROR_NUMBER_GROUPS = [
        {12, 21}, {13, 31}, {14, 41},
        {23, 32}, {24, 42}, {34, 43},
        {6, 9}
    ]

    # 배수 정의
    MULTIPLES = {
        '3의 배수': [3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36, 39, 42, 45],
        '4의 배수': [4, 8, 12, 16, 20, 24, 28, 32, 36, 40, 44],
        '5의 배수': [5, 10, 15, 20, 25, 30, 35, 40, 45]
    }

    # 대각선 패턴 정의
    DIAGONAL_PATTERNS = {
        '주대각선': [
            [1, 9, 17, 25, 33, 41],
            [2, 10, 18, 26, 34, 42],
            [3, 11, 19, 27, 35, 43],
            [4, 12, 20, 28, 36, 44],
            [5, 13, 21, 29, 37, 45],
            [6, 14, 22, 30, 38],
            [7, 15, 23, 31, 39]
        ],
        '부대각선': [
            [7, 13, 19, 25, 31, 37, 43],
            [6, 12, 18, 24, 30, 36, 42],
            [5, 11, 17, 23, 29, 35, 41],
            [4, 10, 16, 22, 28, 34, 40],
            [3, 9, 15, 21, 27, 33, 39],
            [2, 8, 14, 20, 26, 32, 38],
            [1, 7, 13, 19, 25, 31, 37]
        ]
    }

    # 조합 제외 기준
    FILTER_CRITERIA = {
        'sum_range': {'min': 100, 'max': 175},  # 총합구간
        'ac_range': {'min': 7, 'max': 10},  # AC값 범위
        'odd_even_exclude': [{0, 6}, {6, 0}],  # 제외할 홀짝 비율
        'high_low_exclude': [{0, 6}, {6, 0}],  # 제외할 고저 비율
        'same_last_digit': {'min': 2, 'max': 3},  # 동일 끝수 개수
        'last_digit_sum': {'min': 15, 'max': 35},  # 끝수 총합
        'consecutive_numbers': {
            'none': True,  # 연속번호 없음 허용
            'pairs': [1, 2]  # 허용되는 연속번호 쌍의 개수
        },
        'number_counts': {
            'prime_numbers': {'min': 1, 'max': 3},  # 소수 개수 범위
            'composite_numbers': {'min': 1, 'max': 3},  # 합성수 개수 범위
            'multiples_of_3': {'min': 1, 'max': 3},  # 3의 배수 개수 범위
            'multiples_of_4': {'min': 1, 'max': 2},  # 4의 배수 개수 범위
            'multiples_of_5': {'min': 0, 'max': 2},  # 5의 배수 개수 범위
            'double_numbers': {'min': 0, 'max': 2},  # 쌍수 개수 범위
            'corner_numbers': {'min': 1, 'max': 4}  # 모서리 번호 개수 범위
        },
        'number_range': {
            'start_number_max': 15,  # 시작번호 최대값
            'end_number_min': 35  # 끝번호 최소값
        },
        'section_numbers': {
            'min': 0,  # 구간별 최소 번호 개수
            'max': 3  # 구간별 최대 번호 개수
        },
        'colors': {
            'min': 3,  # 최소 사용 색상 개수
            'max': 5  # 최대 사용 색상 개수
        }
    }

    # 최근 트렌드 반영 설정 (100회차, 50회차 분석 결과 반영)
    TREND_CRITERIA = {
        # 홀짝 및 고저 비율 (최근 50회차 트렌드: 4:2 비율 우세)
        'odd_even_ratio': {
            'preferred': [
                {'odd': 4, 'even': 2},  # 가장 우세한 비율
                {'odd': 3, 'even': 3}  # 두 번째로 우세한 비율
            ],
            'weights': {
                '4:2': 1.5,  # 홀:짝 = 4:2 가중치
                '3:3': 1.2,  # 홀:짝 = 3:3 가중치
                '2:4': 0.8,  # 홀:짝 = 2:4 가중치
                '5:1': 0.5,  # 홀:짝 = 5:1 가중치
                '1:5': 0.3  # 홀:짝 = 1:5 가중치
            }
        },
        'high_low_ratio': {
            'preferred': [
                {'high': 4, 'low': 2},  # 고:저 = 4:2 (최근 트렌드)
                {'high': 3, 'low': 3}
            ],
            'weights': {
                '4:2': 1.5,  # 고:저 = 4:2 가중치
                '3:3': 1.2,  # 고:저 = 3:3 가중치
                '2:4': 0.8,  # 고:저 = 2:4 가중치
                '5:1': 0.6,  # 고:저 = 5:1 가중치
                '1:5': 0.3  # 고:저 = 1:5 가중치
            },
            'high_boundary': 24  # 24 이상을 고비율 번호로 간주
        },

        # 총합 범위 (최근 50회차 트렌드: 평균 140, 135~160 범위 집중)
        'sum_trend': {
            'min': 135,
            'max': 160,
            'optimal_range': {'min': 135, 'max': 145},
            'weights': {
                'optimal': 1.5,  # 최적 범위(135~145) 가중치
                'acceptable': 1.2,  # 허용 범위(135~160) 가중치
                'outside': 0.6  # 범위 외 가중치
            }
        },

        # AC값 범위 (최근 50회차 트렌드: AC값 8~9 범위에 56% 집중)
        'ac_trend': {
            'optimal_range': {'min': 8, 'max': 9},
            'weights': {
                '8': 1.5,  # AC값 8 가중치
                '9': 1.3,  # AC값 9 가중치
                '7': 1.1,  # AC값 7 가중치
                'other': 0.7  # 기타 AC값 가중치
            }
        },

        # 연속 번호 패턴 (최근 50회차 트렌드: 2개 연속 번호 1쌍 52%)
        'consecutive_trend': {
            'preferred': [
                {'length': 2, 'count': 1}  # 2개 연속번호 1쌍
            ],
            'weights': {
                'one_pair': 1.5,  # 2개 연속번호 1쌍 가중치
                'no_consecutive': 1.0,  # 연속번호 없음 가중치
                'other': 0.6  # 기타 연속번호 패턴 가중치
            }
        },

        # 대각선 매칭 패턴 (최근 50회차 트렌드: 대각선 매칭 84%, 2개 이상 교차점 60%)
        'diagonal_trend': {
            'min_intersections': 2,  # 최소 교차점 개수
            'weights': {
                'two_plus': 1.5,  # 2개 이상 교차점 가중치
                'one': 1.0,  # 1개 교차점 가중치
                'none': 0.3  # 교차점 없음 가중치
            }
        },

        # 번호 간격 (최근 50회차 트렌드: 평균 간격 5~7)
        'gap_trend': {
            'optimal_range': {'min': 5, 'max': 7},
            'weights': {
                'optimal': 1.5,  # 최적 간격(5~7) 가중치
                'close': 1.0,  # 인접 간격(4, 8) 가중치
                'far': 0.5  # 원거리 간격 가중치
            }
        },

        # 모서리 패턴 (최근 50회차 트렌드: 3개 모서리 숫자 38%)
        'corner_trend': {
            'optimal': 3,  # 최적 모서리 번호 개수
            'weights': {
                '3': 1.5,  # 3개 모서리 번호 가중치
                '2': 1.2,  # 2개 모서리 번호 가중치
                '4': 1.0,  # 4개 모서리 번호 가중치
                'other': 0.5  # 기타 모서리 번호 개수 가중치
            }
        },

        # 소수/합성수 분포 (최근 50회차 트렌드: 소수 2개 44%, 합성수 3개 38%)
        'number_type_trend': {
            'prime': {'optimal': 2, 'range': {'min': 1, 'max': 3}},
            'composite': {'optimal': 3, 'range': {'min': 2, 'max': 4}},
            'weights': {
                'optimal': 1.5,  # 최적 분포(소수 2개, 합성수 3개) 가중치
                'acceptable': 1.0,  # 허용 범위 내 가중치
                'outside': 0.5  # 범위 외 가중치
            }
        },

        # 이전 당첨번호 활용 (최근 50회차 트렌드: 직전 회차 번호 중 1개 포함 48%)
        'previous_draw_trend': {
            'include_count': 1,  # 직전 회차에서 포함할 번호 개수
            'lookback_draws': 3,  # 확인할 이전 회차 수
            'weights': {
                'one_number': 1.3,  # 1개 번호 포함 가중치
                'none': 0.7,  # 포함 번호 없음 가중치
                'multiple': 0.5  # 다수 번호 포함 가중치
            }
        },

        # 분산도 (최근 50회차 트렌드: 표준편차 11~14 범위 64%)
        'std_deviation_trend': {
            'optimal_range': {'min': 11, 'max': 14},
            'weights': {
                'optimal': 1.5,  # 최적 표준편차(11~14) 가중치
                'close': 1.0,  # 인접 표준편차 가중치
                'far': 0.5  # 최적 범위에서 먼 표준편차 가중치
            }
        },

        # 색상 다양성 (최근 100회차 트렌드: 4가지 색상 58%, 5가지 색상 9%)
        'color_trend': {
            'preferred': [4, 5],  # 선호 색상 개수
            'weights': {
                '4': 1.5,  # 4가지 색상 가중치
                '5': 1.3,  # 5가지 색상 가중치
                '3': 1.0,  # 3가지 색상 가중치
                'other': 0.5  # 기타 색상 개수 가중치
            }
        }
    }

    # 핫-콜드 번호 설정 (최근 트렌드: 핫번호 23개, 콜드번호 12개)
    HOT_COLD_SETTINGS = {
        'hot_numbers': [],  # 이 리스트는 실제 데이터 분석 후 채워짐
        'cold_numbers': [],  # 이 리스트는 실제 데이터 분석 후 채워짐
        'normal_numbers': [],  # 이 리스트는 실제 데이터 분석 후 채워짐
        'weights': {
            'hot': 1.3,  # 핫 번호 가중치
            'normal': 1.0,  # 보통 번호 가중치
            'cold': 0.7  # 콜드 번호 가중치
        },
        'hot_cold_ratio': {
            'hot': {'min': 2, 'max': 4},  # 핫 번호 개수 범위
            'cold': {'min': 0, 'max': 2},  # 콜드 번호 개수 범위
            'normal': {'min': 1, 'max': 3}  # 보통 번호 개수 범위
        }
    }